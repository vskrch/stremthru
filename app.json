{
    "name": "stremthru",
    "description": "StremThru Proxy Service with Debrid Integration",
    "stack": "container",
    "env": {
        "STREMTHRU_BASE_URL": {
            "description": "Public URL of your Heroku app (e.g., https://your-app.herokuapp.com)",
            "required": true
        },
        "STREMTHRU_PROXY_AUTH": {
            "description": "Proxy auth credentials in username:password format",
            "required": true
        },
        "STREMTHRU_STORE_AUTH": {
            "description": "Store auth in format *:realdebrid:<api-token>",
            "required": true
        },
        "STREMTHRU_STORE_CONTENT_PROXY": {
            "description": "CRITICAL: Must be true to proxy content through StremThru (prevents IP leak)",
            "value": "*:true"
        },
        "STREMTHRU_STORE_TUNNEL": {
            "description": "CRITICAL: Must be true so RealDebrid only sees StremThru's IP",
            "value": "*:true"
        },
        "STREMTHRU_DATABASE_URI": {
            "description": "Database URI (uses ephemeral SQLite for proxy-only mode)",
            "value": "sqlite://./data/stremthru.db"
        },
        "STREMTHRU_FEATURE": {
            "description": "Features to disable for proxy-only mode",
            "value": "-stremio_list,-stremio_sidekick,-stremio_store,-stremio_torz,-stremio_wrap,-imdb_title,-dmm_hashlist,-vault"
        }
    },
    "environments": {
        "test": {
            "env": {
                "STREMTHRU_BASE_URL": "http://localhost:PORT",
                "STREMTHRU_PROXY_AUTH": "test:test",
                "STREMTHRU_STORE_AUTH": "*:realdebrid:test-token"
            },
            "scripts": {
                "test": "go test -v ./internal/netmon/... ./internal/endpoint/..."
            }
        }
    }
}